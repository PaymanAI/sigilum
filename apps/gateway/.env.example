# Sigilum API running on host machine (for Docker on macOS/Windows)
SIGILUM_REGISTRY_URL=http://host.docker.internal:8787

# Gateway signer identity used for signed calls to protected API endpoints
# such as /v1/namespaces/claims. Must exist in SIGILUM_HOME.
GATEWAY_SIGILUM_NAMESPACE=gateway
# GATEWAY_SIGILUM_HOME=/var/lib/sigilum-gateway/.sigilum

# Service API key used for service-scoped approved-claims feed lookup.
SIGILUM_SERVICE_API_KEY=<service_api_key>
# Optional per-connection overrides:
# SIGILUM_SERVICE_API_KEY_LINEAR_PROXY=<service_api_key>
# SIGILUM_SERVICE_API_KEY_SLACK_PROXY=<service_api_key>

# Gateway encryption key source (v1 local key bootstrap)
# Generate with: openssl rand -base64 32
GATEWAY_MASTER_KEY=<generated_base64_key>

# Public URL used for admin callback routing.
# If a hosted dashboard (for example https://sigilum.id) brokers local gateway setup,
# this should still point to the gateway-reachable callback URL in your local flow.
ADMIN_REDIRECT_URL=http://localhost:38000/admin/callback

# Local passkey auth settings for Gateway Admin UI
GATEWAY_RP_ID=localhost
GATEWAY_RP_ORIGIN=http://localhost:38000
GATEWAY_RP_NAME=Sigilum Gateway
GATEWAY_AUTH_SESSION_HOURS=12

# Local data directory (inside container)
GATEWAY_ADDR=:38100
GATEWAY_DATA_DIR=/var/lib/sigilum-gateway
GATEWAY_SERVICE_CATALOG_FILE=/var/lib/sigilum-gateway/service-catalog.json
GATEWAY_ROTATION_ENFORCEMENT=warn
GATEWAY_ROTATION_GRACE_DAYS=0
GATEWAY_LOG_PROXY_REQUESTS=true
GATEWAY_CLAIMS_CACHE_TTL_SECONDS=30
GATEWAY_CLAIMS_CACHE_REFRESH_SECONDS=10

# Browser origins allowed to call gateway admin APIs from a web UI.
# Include local dashboard origins and hosted dashboard origin(s).
GATEWAY_ALLOWED_ORIGINS=http://localhost:38000,http://127.0.0.1:38000,https://sigilum.id

# Trust forwarded headers only from these proxy hops (comma-separated CIDR/IP list).
# Include loopback + your local container bridge/tunnel ingress ranges.
# Leave empty to ignore X-Forwarded-* headers.
GATEWAY_TRUSTED_PROXY_CIDRS=127.0.0.1/32,::1/128,172.16.0.0/12

# Local trusted bypass mode (development only).
# When true, gateway skips Sigilum signature/registry verification for listed connections.
GATEWAY_ALLOW_UNSIGNED_PROXY=false
GATEWAY_ALLOW_UNSIGNED_CONNECTIONS=

# OpenClaw gateway token (only if you run the OpenClaw gateway, e.g. Alpine OpenClaw image).
# When gateway auth is "token", set this or pass --token. Generate a secret and set:
# OPENCLAW_GATEWAY_TOKEN=your-secret-token
